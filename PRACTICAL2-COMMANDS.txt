CREATE OR REPLACE TRIGGER EMP_ALERT
     BEFORE INSERT ON EMP
BEGIN
     DBMS_OUTPUT.PUT_LINE('NEW EMPLOYEES ARE ABOUT TO BE ADDED');
END;


SELECT * FROM EMP;

INSERT INTO EMP(NO,NAME,SAL,DEPA) VALUES(21,'REMA',6500,'MARKETING');


CREATE OR REPLACE TRIGGER EMP_UPDATE_ALERT
       AFTER UPDATE ON EMP
 FOR EACH ROW
      WHEN(NEW.SAL-OLD.SAL>2000) 
      
BEGIN

       DBMS_OUTPUT.PUT_LINE('OLD SAL '|| :OLD.SAL);

       DBMS_OUTPUT.PUT_LINE('NEW SALARY '|| :NEW.SAL);


END;


SELECT * FROM EMP;

SELECT * FROM DEPT1;

UPDATE EMP SET SAL = 45000 WHERE NO =2;
      

CREATE TABLE DEPT1
(DEPTNO NUMBER(10),
DNAME VARCHAR2(30),
NOOFEMPLOYEE NUMBER(20),
TOTALSALARY NUMBER(30));


INSERT INTO DEPT1 VALUES(5,'MARKETING',20,700000);

INSER INTO EMP VALUES(21,'HERESH',56000,'MARKETING');
 
INSERT INTO EMP(NO,NAME,SAL,DEPA) VALUES(23,'GIRISH',65000,'MARKETING');

DROP TRIGGER EMP_ALERT;


CREATE OR REPLACE TRIGGER EMP_DEPT_ALERT
      AFTER DELETE ON EMP
    FOR EACH ROW
BEGIN

     UPDATE DEPT1 SET DEPTNO = DEPTNO-1 WHERE DNAME = 'MARKETING';
END;

DELETE FROM EMP WHERE DEPA= 'MARKETING';